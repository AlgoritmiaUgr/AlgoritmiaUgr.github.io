<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Club de Algor√≠tmica UGR</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Importar Nunito Sans desde Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Nunito+Sans:ital,opsz,wght@0,6..12,200..1000;1,6..12,200..1000&display=swap" rel="stylesheet">
    <!-- Iconos de Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <style>
        :root {
            --ugr-red: #AD001E;
            --ugr-dark-red: #8C0018;
            --ugr-light-red-bg: #F8E0E3;
            --ugr-dark-gray: #333333;
            --ugr-medium-gray: #666666;
            --ugr-light-gray-bg: #f0f0f0;
            --ugr-border-gray: #CCCCCC;
            --ugr-white: #FFFFFF;
            --ugr-text-primary: #212529;
            --ugr-text-secondary: #495057;
        }

        html { scroll-behavior: smooth; }

        body {
            font-family: 'Nunito Sans', sans-serif;
            background-color: var(--ugr-light-gray-bg);
            color: var(--ugr-text-primary);
        }
        .hero-banner { background-color: var(--ugr-red); color: var(--ugr-white); }
        .nav-bar { background-color: var(--ugr-dark-gray); color: var(--ugr-white); }
        .nav-link { transition: color 0.3s ease, background-color 0.3s ease; color: var(--ugr-white); }
        .nav-link:hover { background-color: var(--ugr-medium-gray); }
        .nav-link.active-section-link { background-color: var(--ugr-red); color: var(--ugr-white); }

        .section-card { background-color: var(--ugr-white); border: 1px solid var(--ugr-border-gray); }
        .section-title { color: var(--ugr-red); border-bottom-color: var(--ugr-red); }
        .subsection-title { color: var(--ugr-dark-red); }


        .recurso-item-lista { transition: background-color 0.3s ease, color 0.3s ease, transform 0.2s ease; cursor: pointer; border: 1px solid var(--ugr-border-gray); color: var(--ugr-text-primary); }
        .recurso-item-lista.active { background-color: var(--ugr-red); color: var(--ugr-white); border-color: var(--ugr-red); transform: translateX(5px); }
        .recurso-item-lista:not(.active):hover { background-color: var(--ugr-light-red-bg); border-color: var(--ugr-dark-red); transform: translateX(5px); }
        
        .resource-content-area { background-color: var(--ugr-white); border: 1px solid var(--ugr-border-gray); }
        .btn-primary, .btn-gemini { 
            background-color: var(--ugr-red); 
            color: var(--ugr-white); 
            transition: background-color 0.3s ease, transform 0.2s ease; 
        }
        .btn-primary:hover, .btn-gemini:hover { 
            background-color: var(--ugr-dark-red); 
            transform: scale(1.05);
        }
        .btn-gemini { /* Estilo base para botones de IA/LeetCode */
            background-color: var(--ugr-dark-red); 
            border: 1px solid var(--ugr-red);
        }
         .btn-gemini:hover { /* Hover espec√≠fico para este tipo de bot√≥n */
            background-color: var(--ugr-red);
        }
        /* Bot√≥n espec√≠fico para buscar problemas de LeetCode dentro del modal */
        .btn-leetcode-search {
            background-color: var(--ugr-red);
            color: var(--ugr-white);
            transition: background-color 0.3s ease, transform 0.2s ease;
            padding: 0.5rem 1rem;
            border-radius: 0.375rem; /* rounded-md */
            font-weight: 600; /* semibold */
            width: 100%; /* Ocupa todo el ancho disponible en el modal */
        }
        .btn-leetcode-search:hover {
            background-color: var(--ugr-dark-red);
            transform: scale(1.02); /* Efecto de escala m√°s sutil para este bot√≥n */
        }
        /* Bot√≥n para re-roll de problema LeetCode */
        .btn-leetcode-reroll {
            background-color: var(--ugr-medium-gray);
            color: var(--ugr-white);
            transition: background-color 0.3s ease, transform 0.2s ease;
            padding: 0.5rem 1rem;
            border-radius: 0.375rem; /* rounded-md */
            font-weight: 600; /* semibold */
            margin-top: 0.75rem; /* mt-3 */
        }
        .btn-leetcode-reroll:hover {
            background-color: var(--ugr-dark-gray);
            transform: scale(1.02);
        }


        .footer-bar { background-color: var(--ugr-dark-gray); color: var(--ugr-white); }
        .footer-bar p a { color: var(--ugr-light-red-bg); }
        .footer-bar p a:hover { color: var(--ugr-white); }

        pre, code { font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace; }
        pre { background-color: #2d2d2d; color: #f0f0f0; padding: 1rem; border-radius: 0.25rem; overflow-x: auto; font-size: 0.875rem; border: 1px solid var(--ugr-medium-gray); }
        
        .event-item, .faq-item, .competition-item, .project-item, .initiative-subsection { background-color: var(--ugr-light-red-bg); border-color: var(--ugr-red); }
        .event-item h3, .faq-item h3, .competition-item h3, .project-item h3, .initiative-subsection h3 { color: var(--ugr-dark-red); }


        #scrollTopBtn { position: fixed; bottom: 20px; right: 20px; z-index: 99; border: none; outline: none; background-color: var(--ugr-red); color: var(--ugr-white); cursor: pointer; padding: 12px 15px; border-radius: 50%; font-size: 18px; box-shadow: 0 4px 8px rgba(0,0,0,0.2); transition: opacity 0.3s ease, visibility 0.3s ease, background-color 0.3s ease; opacity: 0; visibility: hidden; }
        #scrollTopBtn:hover { background-color: var(--ugr-dark-red); }
        #scrollTopBtn.show { opacity: 1; visibility: visible; }

        .collaborator-card { background-color: var(--ugr-light-red-bg); border: 1px solid var(--ugr-red); transition: transform 0.2s ease-in-out, box-shadow 0.2s ease-in-out; }
        .collaborator-card:hover { transform: translateY(-5px); box-shadow: 0 6px 12px rgba(0,0,0,0.1); }
        .collaborator-card a { color: var(--ugr-dark-red); text-decoration: none; }
        .collaborator-card a:hover { color: var(--ugr-red); text-decoration: underline; }
        .collaborator-card .fab.fa-github { color: var(--ugr-dark-gray); transition: color 0.2s ease; }
        .collaborator-card:hover .fab.fa-github { color: var(--ugr-red); }

        /* Modal para Gemini API / LeetCode */
        .modal {
            background-color: rgba(0, 0, 0, 0.5); /* Fondo oscuro semi-transparente */
            transition: opacity 0.3s ease, visibility 0.3s ease;
        }
        .modal-content {
            max-height: 80vh; /* Altura m√°xima del contenido del modal */
        }
        .loading-spinner {
            border-top-color: var(--ugr-red);
            animation: spin 1s linear infinite;
        }
        @keyframes spin {
            to { transform: rotate(360deg); }
        }

        /* Estilos para el Tooltip Personalizado */
        #customTooltip {
            position: absolute; /* Necesario para posicionar el tooltip */
            display: none; /* Oculto por defecto */
            background-color: var(--ugr-dark-gray); /* Color de fondo oscuro */
            color: var(--ugr-white); /* Color de texto blanco */
            padding: 8px 12px; /* Relleno interno */
            border-radius: 6px; /* Esquinas redondeadas */
            font-size: 0.875rem; /* Tama√±o de fuente peque√±o (text-sm) */
            z-index: 100; /* Asegura que est√© por encima de otros elementos */
            box-shadow: 0 2px 5px rgba(0,0,0,0.2); /* Sombra sutil */
            max-width: 250px; /* Ancho m√°ximo para que no sea demasiado grande */
            pointer-events: none; /* Para que el tooltip no interfiera con eventos del rat√≥n */
            opacity: 0; /* Inicialmente invisible para transici√≥n */
            transition: opacity 0.2s ease-in-out; /* Transici√≥n suave de opacidad */
        }
    </style>
</head>
<body class="text-base">

    <header class="hero-banner py-10 md:py-12 shadow-md">
        <div class="container mx-auto px-4 sm:px-6 text-center">
            <h1 class="text-3xl sm:text-4xl md:text-5xl font-bold">Club de Algor√≠tmica UGR</h1>
            <p class="mt-3 sm:mt-4 text-md sm:text-lg">Tu espacio para aprender, competir y crecer en el mundo de los algoritmos.</p>
        </div>
    </header>

    <nav class="nav-bar sticky top-0 z-50 shadow">
        <div class="container mx-auto px-4 sm:px-6 py-3">
            <ul id="main-navigation" class="flex flex-wrap justify-center items-center space-y-2 sm:space-y-0 sm:space-x-6 md:space-x-8"> 
                <li><a href="#presentacion" class="nav-link font-medium p-2 rounded-md active-section-link">Presentaci√≥n</a></li> 
                <li><a href="#calendario" class="nav-link font-medium p-2 rounded-md">Calendario</a></li>
                <li><a href="#recursos" class="nav-link font-medium p-2 rounded-md">Recursos</a></li>
                <li><a href="#iniciativas" class="nav-link font-medium p-2 rounded-md">Iniciativas</a></li>
            </ul>
        </div>
    </nav>

    <main class="container mx-auto px-4 sm:px-6 py-8">

        <section id="presentacion" class="main-section section-card mb-10 md:mb-12 p-6 rounded-lg shadow-lg">
            <h2 class="section-title text-2xl md:text-3xl font-semibold mb-6 border-b-2 pb-2">üëã Presentaci√≥n</h2>
            <p class="mb-4 text-sm md:text-base leading-relaxed">¬°Bienvenido al Club de Algor√≠tmica! Somos un grupo de entusiastas apasionados por la resoluci√≥n de problemas, las estructuras de datos y los algoritmos. Nuestro objetivo es crear una comunidad vibrante donde podamos aprender juntos, compartir conocimientos y prepararnos para desaf√≠os de programaci√≥n y competiciones.</p>
            <p class="mb-8 text-sm md:text-base leading-relaxed">Si te gusta el pensamiento cr√≠tico, el dise√±o de soluciones eficientes y te diviertes con los retos l√≥gicos, ¬°este es tu lugar! Fomentamos un ambiente de colaboraci√≥n y crecimiento mutuo.</p>
            
            <hr class="my-8 border-gray-300">

            <h3 class="text-xl md:text-2xl font-semibold mb-6 subsection-title">Preguntas Frecuentes (FAQ)</h3>
            <div class="space-y-4 mb-8">
                <div class="faq-item p-4 rounded-md border">
                    <h4 class="font-semibold text-lg md:text-xl mb-1">¬øC√≥mo me uno al club o participo?</h4>
                    <p class="text-sm md:text-base text-gray-700">Para unirte, simplemente √∫nete a nuestro servidor de Discord (enlace m√°s abajo) y pres√©ntate. ¬°Todos son bienvenidos! La participaci√≥n es abierta en nuestros eventos y discusiones.</p>
                </div>
                <div class="faq-item p-4 rounded-md border">
                    <h4 class="font-semibold text-lg md:text-xl mb-1">¬øQu√© conocimientos previos se recomiendan?</h4>
                    <p class="text-sm md:text-base text-gray-700">Se recomienda tener una base de programaci√≥n en cualquier lenguaje, aunque muchos de nuestros ejemplos estar√°n en C++. Lo m√°s importante es la curiosidad y las ganas de aprender. ¬°Empezaremos desde lo b√°sico!</p>
                </div>
                <div class="faq-item p-4 rounded-md border">
                    <h4 class="font-semibold text-lg md:text-xl mb-1">¬øC√≥mo configuro mi entorno de C++ para algor√≠tmica?</h4>
                    <p class="text-sm md:text-base text-gray-700">Puedes usar un IDE como VS Code con la extensi√≥n de C++, Code::Blocks, o simplemente un editor de texto y un compilador como g++. En nuestro Discord podemos ayudarte con la configuraci√≥n. [Enlace a una gu√≠a de configuraci√≥n externa podr√≠a ir aqu√≠].</p>
                </div>
                <div class="faq-item p-4 rounded-md border">
                    <h4 class="font-semibold text-lg md:text-xl mb-1">¬øQu√© plataformas online usamos para practicar?</h4>
                    <p class="text-sm md:text-base text-gray-700">Principalmente LeetCode para problemas individuales, y tambi√©n exploraremos plataformas como Codeforces, AtCoder, y HackerRank para concursos y pr√°ctica adicional. Los enlaces a problemas espec√≠ficos se compartir√°n en los recursos y el Discord.</p>
                </div>
            </div>

            <hr class="my-8 border-gray-300">

            <h3 class="text-xl md:text-2xl font-semibold mb-4 text-center subsection-title">√önete a Nuestra Conversaci√≥n</h3>
            <p class="mb-4 text-sm md:text-base leading-relaxed text-center">
                ¬°Conoce a otros miembros, resuelve dudas y participa en discusiones en nuestro servidor de Discord!
            </p>
            <div class="text-center mb-8">
                <a href="https://discord.gg/v4A6xVk4" target="_blank" class="btn-primary inline-flex items-center font-semibold py-2 px-6 rounded-md text-lg">
                    <i class="fab fa-discord mr-2"></i> √önete a nuestro Discord
                </a>
            </div>

            <h3 class="text-xl md:text-2xl font-semibold mb-6 text-center subsection-title">Miembros Destacados</h3>
            <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6"> 
                <div class="collaborator-card p-4 rounded-lg text-center">
                    <img src="https://github.com/AdamBourbahh.png" alt="Foto de perfil de GitHub de Adam Bourbahh Romero" class="w-24 h-24 rounded-full mx-auto mb-3 border-2 border-ugr-red object-cover" onerror="this.onerror=null;this.src='https://placehold.co/100x100/F8E0E3/AD001E?text=AB';">
                    <h4 class="text-lg font-semibold mb-1" style="color: var(--ugr-text-primary);">Adam Bourbahh Romero</h4>
                    <a href="https://github.com/AdamBourbahh" target="_blank" class="text-sm inline-flex items-center">
                        <i class="fab fa-github mr-2"></i> AdamBourbahh
                    </a>
                </div>
                <div class="collaborator-card p-4 rounded-lg text-center">
                    <img src="https://github.com/NGonzalez018.png" alt="Foto de perfil de GitHub de Nicol√°s Gonz√°lez Fern√°ndez" class="w-24 h-24 rounded-full mx-auto mb-3 border-2 border-ugr-red object-cover" onerror="this.onerror=null;this.src='https://placehold.co/100x100/F8E0E3/AD001E?text=NG';">
                    <h4 class="text-lg font-semibold mb-1" style="color: var(--ugr-text-primary);">Nicol√°s Gonz√°lez Fern√°ndez</h4>
                    <a href="https://github.com/NGonzalez018" target="_blank" class="text-sm inline-flex items-center">
                        <i class="fab fa-github mr-2"></i> NGonzalez018
                    </a>
                </div>
                <div class="collaborator-card p-4 rounded-lg text-center">
                    <img src="https://github.com/Jaime-espin.png" alt="Foto de perfil de GitHub de Jaime Esp√≠n Rodr√≠guez" class="w-24 h-24 rounded-full mx-auto mb-3 border-2 border-ugr-red object-cover" onerror="this.onerror=null;this.src='https://placehold.co/100x100/F8E0E3/AD001E?text=JE';">
                    <h4 class="text-lg font-semibold mb-1" style="color: var(--ugr-text-primary);">Jaime Esp√≠n Rodr√≠guez</h4>
                    <a href="https://github.com/Jaime-espin" target="_blank" class="text-sm inline-flex items-center">
                        <i class="fab fa-github mr-2"></i> Jaime-espin
                    </a>
                </div>
                <div class="collaborator-card p-4 rounded-lg text-center">
                    <img src="https://github.com/mhanii.png" alt="Foto de perfil de GitHub de Hani Mahmoud" class="w-24 h-24 rounded-full mx-auto mb-3 border-2 border-ugr-red object-cover" onerror="this.onerror=null;this.src='https://placehold.co/100x100/F8E0E3/AD001E?text=HM';">
                    <h4 class="text-lg font-semibold mb-1" style="color: var(--ugr-text-primary);">Hani Mahmoud</h4>
                    <a href="https://github.com/mhanii" target="_blank" class="text-sm inline-flex items-center">
                        <i class="fab fa-github mr-2"></i> mhanii
                    </a>
                </div>
            </div>
        </section>

        <section id="calendario" class="main-section section-card mb-10 md:mb-12 p-6 rounded-lg shadow-lg hidden">
            <h2 class="section-title text-2xl md:text-3xl font-semibold mb-6 border-b-2 pb-2">üóìÔ∏è Calendario y Eventos</h2>
            
            <div class="mb-8">
                <h3 class="text-xl md:text-2xl font-semibold mb-3 subsection-title">Pr√≥ximos Eventos</h3>
                <p class="mb-4 text-sm md:text-base">Aqu√≠ encontrar√°s las fechas de nuestras pr√≥ximas reuniones, talleres y charlas.</p>
                <div class="space-y-4">
                    <div class="event-item p-4 rounded-md border">
                        <h4 class="font-semibold text-lg md:text-xl">Pr√≥xima Reuni√≥n: Introducci√≥n a Grafos</h4>
                        <p class="text-sm md:text-base text-gray-700"><strong>Fecha:</strong> Viernes, 20 de Junio de 2025</p>
                        <p class="text-sm md:text-base text-gray-700"><strong>Hora:</strong> 18:00</p>
                        <p class="text-sm md:text-base text-gray-700"><strong>Lugar:</strong> Aula B1 / Online (Enlace en Discord)</p>
                        <p class="text-sm md:text-base text-gray-700 mt-1"><strong>Descripci√≥n:</strong> Exploraremos los conceptos b√°sicos de la teor√≠a de grafos y sus aplicaciones.</p>
                    </div>
                     <div class="event-item p-4 rounded-md border">
                        <h4 class="font-semibold text-lg md:text-xl" id="problema-semana-titulo">Problema de la Semana</h4>
                        <p class="text-sm md:text-base text-gray-700"><strong>Publicaci√≥n:</strong> Lunes, 16 de Junio de 2025</p>
                        <p class="text-sm md:text-base text-gray-700" id="problema-semana-tema"><strong>Tema:</strong> Arrays y B√∫squeda</p>
                        <p class="text-sm md:text-base text-gray-700 mt-1" id="problema-semana-desc">¬°Un nuevo desaf√≠o para poner a prueba tus habilidades! Se discutir√° en la sesi√≥n del viernes o en Discord.</p>
                        <button class="btn-gemini text-xs py-1 px-2 rounded mt-2" data-gemini-action="get_hint" data-problem-topic="Arrays y B√∫squeda" data-problem-desc="Problema sobre arrays y b√∫squeda para el club de algor√≠tmica.">‚ú® Dame una pista</button>
                    </div>
                </div>
            </div>

            <div>
                <h3 class="text-xl md:text-2xl font-semibold mb-3 subsection-title">Eventos Pasados / Archivo</h3>
                <p class="mb-4 text-sm md:text-base">Material de sesiones anteriores (diapositivas, grabaciones, c√≥digo).</p>
                <div class="space-y-3">
                    <div class="p-3 bg-gray-100 rounded-md border border-gray-300">
                        <h4 class="font-semibold text-md md:text-lg">Taller de Recursividad Avanzada</h4>
                        <p class="text-xs md:text-sm text-gray-600"><strong>Fecha:</strong> S√°bado, 7 de Junio de 2025</p>
                        <p class="text-xs md:text-sm text-gray-600 mt-1">Materiales: <a href="#" class="hover:underline" style="color: var(--ugr-dark-red);">[Enlace a Diapositivas]</a>, <a href="#" class="hover:underline" style="color: var(--ugr-dark-red);">[Enlace a Grabaci√≥n]</a> (si aplica)</p>
                    </div>
                    <div class="p-3 bg-gray-100 rounded-md border border-gray-300">
                        <h4 class="font-semibold text-md md:text-lg">Introducci√≥n a la Algor√≠tmica</h4>
                        <p class="text-xs md:text-sm text-gray-600"><strong>Fecha:</strong> Viernes, 30 de Mayo de 2025</p>
                        <p class="text-xs md:text-sm text-gray-600 mt-1">Materiales: <a href="#recursos" class="hover:underline" style="color: var(--ugr-dark-red);">Ver Documento de Recursos</a></p>
                    </div>
                </div>
                 <p class="mt-4 text-xs md:text-sm text-gray-500"><em>(Esta secci√≥n se ir√° actualizando con el material de cada evento.)</em></p>
            </div>
            <p class="mt-6 text-xs md:text-sm text-gray-500"><em>(Calendario de ejemplo. Aseg√∫rate de actualizarlo.)</em></p>
        </section>

        <section id="recursos" class="main-section section-card mb-10 md:mb-12 p-6 rounded-lg shadow-lg hidden">
            <h2 class="section-title text-2xl md:text-3xl font-semibold mb-6 border-b-2 pb-2">üìö Recursos de Aprendizaje</h2>
            <p class="mb-6 md:mb-8 text-sm md:text-base leading-relaxed">Selecciona un tema de la lista para ver los materiales de estudio detallados. Utiliza los PDFs para la teor√≠a y los retos, y el bot√≥n de IA para generar problemas adicionales.</p>
            
            <div class="flex flex-col md:flex-row gap-4 md:gap-6">
                <div class="md:w-1/3 lg:w-1/4">
                    <ul id="lista-recursos-tabs" class="space-y-2">
                        <li><a href="#" data-target="recurso-introduccion" class="recurso-item-lista block p-3 rounded-md font-medium text-sm md:text-base active" data-tooltip-text="Fundamentos de algor√≠tmica, eficiencia y Notaci√≥n Big O.">1. Introducci√≥n</a></li>
                        <li><a href="#" data-target="recurso-recursividad" class="recurso-item-lista block p-3 rounded-md font-medium text-sm md:text-base" data-tooltip-text="T√©cnica para resolver problemas dividi√©ndolos en subproblemas.">2. Recursividad</a></li>
                        <li><a href="#" data-target="recurso-array" class="recurso-item-lista block p-3 rounded-md font-medium text-sm md:text-base" data-tooltip-text="Colecciones ordenadas de elementos, acceso por √≠ndice.">3. Array</a></li>
                        <li><a href="#" data-target="recurso-sets" class="recurso-item-lista block p-3 rounded-md font-medium text-sm md:text-base" data-tooltip-text="Colecciones de elementos √∫nicos, operaciones de conjunto.">4. Sets</a></li>
                        <li><a href="#" data-target="recurso-maps" class="recurso-item-lista block p-3 rounded-md font-medium text-sm md:text-base" data-tooltip-text="Estructuras clave-valor para b√∫squedas r√°pidas por clave.">5. Maps</a></li>
                        <li><a href="#" data-target="recurso-linked-list" class="recurso-item-lista block p-3 rounded-md font-medium text-sm md:text-base" data-tooltip-text="Secuencia de nodos enlazados, inserci√≥n/eliminaci√≥n flexible.">6. Linked List</a></li>
                        <li><a href="#" data-target="recurso-arboles" class="recurso-item-lista block p-3 rounded-md font-medium text-sm md:text-base" data-tooltip-text="Estructuras jer√°rquicas para organizar datos eficientemente.">7. √Årboles</a></li>
                        <li><a href="#" data-target="recurso-pila-colas" class="recurso-item-lista block p-3 rounded-md font-medium text-sm md:text-base" data-tooltip-text="Estructuras LIFO (Pila) y FIFO (Cola) para diversas tareas.">8. Pila y Colas</a></li>
                    </ul>
                </div>
                <div id="contenido-recursos" class="md:w-2/3 lg:w-3/4 resource-content-area p-4 md:p-6 rounded-lg shadow-inner min-h-[250px] md:min-h-[300px]">
                    <!-- Recurso Introducci√≥n -->
                    <div id="recurso-introduccion" class="recurso-contenido active">
                        <h3 class="text-xl md:text-2xl font-semibold mb-3 md:mb-4" style="color: var(--ugr-red);">1. Introducci√≥n a la Algor√≠tmica</h3>
                        <p class="mb-3 md:mb-4 text-sm md:text-base" style="color: var(--ugr-text-secondary);">Conceptos b√°sicos, eficiencia, Notaci√≥n Asint√≥tica (Big O).</p>
                        <div class="mt-4 grid grid-cols-1 md:grid-cols-3 gap-3">
                            <a href="pdfs/introduccion_explicacion.pdf" target="_blank" class="btn-primary w-full flex items-center justify-center text-center font-semibold py-2.5 px-4 rounded-lg text-sm">
                                <i class="fas fa-book-open mr-2"></i>Ver Explicaci√≥n
                            </a>
                            <a href="pdfs/introduccion_retos.pdf" target="_blank" class="btn-primary w-full flex items-center justify-center text-center font-semibold py-2.5 px-4 rounded-lg text-sm">
                                <i class="fas fa-puzzle-piece mr-2"></i>Ver Retos
                            </a>
                            <button class="btn-gemini w-full flex items-center justify-center text-sm py-2.5 px-4 rounded-lg leetcode-problem-button" data-topic-title="Introducci√≥n a la Algor√≠tmica">
                                <i class="fas fa-laptop-code mr-2"></i>Problema LeetCode
                            </button>
                        </div>
                        <p class="mt-3 md:mt-4 text-xs md:text-sm" style="color: var(--ugr-medium-gray);">Consulta los PDFs para la explicaci√≥n detallada y los retos pr√°cticos sobre Introducci√≥n a la Algor√≠tmica.</p>
                    </div>
                    <!-- Recurso Recursividad -->
                    <div id="recurso-recursividad" class="recurso-contenido hidden">
                        <h3 class="text-xl md:text-2xl font-semibold mb-3 md:mb-4" style="color: var(--ugr-red);">2. Recursividad</h3>
                        <p class="mb-3 md:mb-4 text-sm md:text-base" style="color: var(--ugr-text-secondary);">Casos base, casos recursivos, ejemplos cl√°sicos (Factorial, Fibonacci).</p>
                        <div class="mt-4 grid grid-cols-1 md:grid-cols-3 gap-3">
                            <a href="pdfs/recursividad_explicacion.pdf" target="_blank" class="btn-primary w-full flex items-center justify-center text-center font-semibold py-2.5 px-4 rounded-lg text-sm">
                                <i class="fas fa-book-open mr-2"></i>Ver Explicaci√≥n
                            </a>
                            <a href="pdfs/recursividad_retos.pdf" target="_blank" class="btn-primary w-full flex items-center justify-center text-center font-semibold py-2.5 px-4 rounded-lg text-sm">
                                <i class="fas fa-puzzle-piece mr-2"></i>Ver Retos
                            </a>
                            <button class="btn-gemini w-full flex items-center justify-center text-sm py-2.5 px-4 rounded-lg leetcode-problem-button" data-topic-title="Recursividad">
                                <i class="fas fa-laptop-code mr-2"></i>Problema LeetCode
                            </button>
                        </div>
                         <p class="mt-3 md:mt-4 text-xs md:text-sm" style="color: var(--ugr-medium-gray);">Explora c√≥mo resolver problemas dividi√©ndolos en subproblemas m√°s peque√±os con los PDFs de Recursividad.</p>
                    </div>
                    <!-- Recurso Array -->
                    <div id="recurso-array" class="recurso-contenido hidden">
                        <h3 class="text-xl md:text-2xl" style="color: var(--ugr-red);">3. Array</h3><p class="my-2 text-sm md:text-base" style="color: var(--ugr-text-secondary);">Estructuras de datos fundamentales para almacenar colecciones de elementos.</p>
                        <div class="mt-4 grid grid-cols-1 md:grid-cols-3 gap-3">
                             <a href="pdfs/array_explicacion.pdf" target="_blank" class="btn-primary w-full flex items-center justify-center text-center font-semibold py-2.5 px-4 rounded-lg text-sm">
                                <i class="fas fa-book-open mr-2"></i>Ver Explicaci√≥n
                            </a>
                            <a href="pdfs/array_retos.pdf" target="_blank" class="btn-primary w-full flex items-center justify-center text-center font-semibold py-2.5 px-4 rounded-lg text-sm">
                                <i class="fas fa-puzzle-piece mr-2"></i>Ver Retos
                            </a>
                            <button class="btn-gemini w-full flex items-center justify-center text-sm py-2.5 px-4 rounded-lg leetcode-problem-button" data-topic-title="Arrays (Arreglos)">
                                <i class="fas fa-laptop-code mr-2"></i>Problema LeetCode
                            </button>
                        </div>
                        <p class="mt-3 md:mt-4 text-xs md:text-sm" style="color: var(--ugr-medium-gray);">Consulta los PDFs para aprender sobre Arrays, sus usos y problemas relacionados.</p>
                    </div>
                    <!-- Recurso Sets -->
                    <div id="recurso-sets" class="recurso-contenido hidden">
                        <h3 class="text-xl md:text-2xl" style="color: var(--ugr-red);">4. Sets</h3><p class="my-2 text-sm md:text-base" style="color: var(--ugr-text-secondary);">Colecciones de elementos √∫nicos, √∫tiles para operaciones de pertenencia y conjunto.</p>
                        <div class="mt-4 grid grid-cols-1 md:grid-cols-3 gap-3">
                            <a href="pdfs/sets_explicacion.pdf" target="_blank" class="btn-primary w-full flex items-center justify-center text-center font-semibold py-2.5 px-4 rounded-lg text-sm">
                                <i class="fas fa-book-open mr-2"></i>Ver Explicaci√≥n
                            </a>
                            <a href="pdfs/sets_retos.pdf" target="_blank" class="btn-primary w-full flex items-center justify-center text-center font-semibold py-2.5 px-4 rounded-lg text-sm">
                                <i class="fas fa-puzzle-piece mr-2"></i>Ver Retos
                            </a>
                            <button class="btn-gemini w-full flex items-center justify-center text-sm py-2.5 px-4 rounded-lg leetcode-problem-button" data-topic-title="Sets (Conjuntos)">
                                <i class="fas fa-laptop-code mr-2"></i>Problema LeetCode
                            </button>
                        </div>
                        <p class="mt-3 md:mt-4 text-xs md:text-sm" style="color: var(--ugr-medium-gray);">Los PDFs de Sets cubren c√≥mo usarlos eficientemente y problemas de ejemplo.</p>
                    </div>
                    <!-- Recurso Maps -->
                    <div id="recurso-maps" class="recurso-contenido hidden">
                        <h3 class="text-xl md:text-2xl" style="color: var(--ugr-red);">5. Maps</h3><p class="my-2 text-sm md:text-base" style="color: var(--ugr-text-secondary);">Estructuras de datos clave-valor para b√∫squedas eficientes.</p>
                        <div class="mt-4 grid grid-cols-1 md:grid-cols-3 gap-3">
                            <a href="pdfs/maps_explicacion.pdf" target="_blank" class="btn-primary w-full flex items-center justify-center text-center font-semibold py-2.5 px-4 rounded-lg text-sm">
                                <i class="fas fa-book-open mr-2"></i>Ver Explicaci√≥n
                            </a>
                            <a href="pdfs/maps_retos.pdf" target="_blank" class="btn-primary w-full flex items-center justify-center text-center font-semibold py-2.5 px-4 rounded-lg text-sm">
                                <i class="fas fa-puzzle-piece mr-2"></i>Ver Retos
                            </a>
                            <button class="btn-gemini w-full flex items-center justify-center text-sm py-2.5 px-4 rounded-lg leetcode-problem-button" data-topic-title="Maps (Diccionarios)">
                                <i class="fas fa-laptop-code mr-2"></i>Problema LeetCode
                            </button>
                        </div>
                        <p class="mt-3 md:mt-4 text-xs md:text-sm" style="color: var(--ugr-medium-gray);">Aprende todo sobre Maps y sus aplicaciones con nuestros PDFs detallados.</p>
                    </div>
                    <!-- Recurso Linked List -->
                    <div id="recurso-linked-list" class="recurso-contenido hidden">
                        <h3 class="text-xl md:text-2xl" style="color: var(--ugr-red);">6. Linked List</h3><p class="my-2 text-sm md:text-base" style="color: var(--ugr-text-secondary);">Listas enlazadas para inserciones y eliminaciones din√°micas.</p>
                        <div class="mt-4 grid grid-cols-1 md:grid-cols-3 gap-3">
                            <a href="pdfs/linked_list_explicacion.pdf" target="_blank" class="btn-primary w-full flex items-center justify-center text-center font-semibold py-2.5 px-4 rounded-lg text-sm">
                                <i class="fas fa-book-open mr-2"></i>Ver Explicaci√≥n
                            </a>
                            <a href="pdfs/linked_list_retos.pdf" target="_blank" class="btn-primary w-full flex items-center justify-center text-center font-semibold py-2.5 px-4 rounded-lg text-sm">
                                <i class="fas fa-puzzle-piece mr-2"></i>Ver Retos
                            </a>
                            <button class="btn-gemini w-full flex items-center justify-center text-sm py-2.5 px-4 rounded-lg leetcode-problem-button" data-topic-title="Listas Enlazadas (Linked List)">
                                <i class="fas fa-laptop-code mr-2"></i>Problema LeetCode
                            </button>
                        </div>
                        <p class="mt-3 md:mt-4 text-xs md:text-sm" style="color: var(--ugr-medium-gray);">Descubre las Listas Enlazadas, sus ventajas y retos en los PDFs.</p>
                    </div>
                    <!-- Recurso √Årboles -->
                    <div id="recurso-arboles" class="recurso-contenido hidden">
                        <h3 class="text-xl md:text-2xl" style="color: var(--ugr-red);">7. √Årboles</h3><p class="my-2 text-sm md:text-base" style="color: var(--ugr-text-secondary);">Estructuras jer√°rquicas para organizar datos eficientemente.</p>
                        <div class="mt-4 grid grid-cols-1 md:grid-cols-3 gap-3">
                            <a href="pdfs/arboles_explicacion.pdf" target="_blank" class="btn-primary w-full flex items-center justify-center text-center font-semibold py-2.5 px-4 rounded-lg text-sm">
                                <i class="fas fa-book-open mr-2"></i>Ver Explicaci√≥n
                            </a>
                            <a href="pdfs/arboles_retos.pdf" target="_blank" class="btn-primary w-full flex items-center justify-center text-center font-semibold py-2.5 px-4 rounded-lg text-sm">
                                <i class="fas fa-puzzle-piece mr-2"></i>Ver Retos
                            </a>
                            <button class="btn-gemini w-full flex items-center justify-center text-sm py-2.5 px-4 rounded-lg leetcode-problem-button" data-topic-title="√Årboles (Estructuras de Datos)">
                                <i class="fas fa-laptop-code mr-2"></i>Problema LeetCode
                            </button>
                        </div>
                        <p class="mt-3 md:mt-4 text-xs md:text-sm" style="color: var(--ugr-medium-gray);">Los PDFs sobre √Årboles te guiar√°n a trav√©s de sus tipos y aplicaciones.</p>
                    </div>
                    <!-- Recurso Pila y Colas -->
                    <div id="recurso-pila-colas" class="recurso-contenido hidden">
                        <h3 class="text-xl md:text-2xl" style="color: var(--ugr-red);">8. Pila y Colas</h3><p class="my-2 text-sm md:text-base" style="color: var(--ugr-text-secondary);">Estructuras de datos LIFO y FIFO para diversas aplicaciones.</p>
                        <div class="mt-4 grid grid-cols-1 md:grid-cols-3 gap-3">
                            <a href="pdfs/pila_colas_explicacion.pdf" target="_blank" class="btn-primary w-full flex items-center justify-center text-center font-semibold py-2.5 px-4 rounded-lg text-sm">
                                <i class="fas fa-book-open mr-2"></i>Ver Explicaci√≥n
                            </a>
                            <a href="pdfs/pila_colas_retos.pdf" target="_blank" class="btn-primary w-full flex items-center justify-center text-center font-semibold py-2.5 px-4 rounded-lg text-sm">
                                <i class="fas fa-puzzle-piece mr-2"></i>Ver Retos
                            </a>
                            <button class="btn-gemini w-full flex items-center justify-center text-sm py-2.5 px-4 rounded-lg leetcode-problem-button" data-topic-title="Pilas y Colas (Stack and Queue)">
                                <i class="fas fa-laptop-code mr-2"></i>Problema LeetCode
                            </button>
                        </div>
                        <p class="mt-3 md:mt-4 text-xs md:text-sm" style="color: var(--ugr-medium-gray);">Domina Pilas y Colas con los ejemplos y problemas de los PDFs.</p>
                    </div>
                </div>
            </div>
        </section>

        <section id="iniciativas" class="main-section section-card mb-10 md:mb-12 p-6 rounded-lg shadow-lg hidden">
            <h2 class="section-title text-2xl md:text-3xl font-semibold mb-6 border-b-2 pb-2">üöÄ Iniciativas del Club</h2>
            <p class="mb-8 text-sm md:text-base leading-relaxed">Aqu√≠ encontrar√°s informaci√≥n sobre nuestras actividades competitivas y proyectos colaborativos. ¬°Participa y demuestra tus habilidades!</p>

            <div class="mb-10">
                <h3 class="text-xl md:text-2xl font-semibold mb-4 subsection-title">üèÜ Competiciones</h3>
                <p class="mb-6 text-sm md:text-base leading-relaxed">Preparaci√≥n, participaci√≥n en competiciones de programaci√≥n y logros del club.</p>
                
                <div class="mb-6 initiative-subsection p-4 rounded-md border">
                    <h4 class="font-semibold text-lg md:text-xl mb-1">Calendario de Competiciones</h4>
                    <p class="text-sm md:text-base text-gray-700">Pr√≥ximamente: Lista de competiciones locales, nacionales e internacionales (ICPC, Google Code Jam, LeetCode Contests, etc.).</p>
                </div>
                <div class="mb-6 initiative-subsection p-4 rounded-md border">
                    <h4 class="font-semibold text-lg md:text-xl mb-1">Formaci√≥n de Equipos</h4>
                    <p class="text-sm md:text-base text-gray-700">¬øInteresado en formar un equipo para ICPC u otras competiciones? Anunciaremos los procesos y canales de comunicaci√≥n en nuestro Discord.</p>
                </div>
                <div class="initiative-subsection p-4 rounded-md border">
                    <h4 class="font-semibold text-lg md:text-xl mb-1">Sal√≥n de la Fama</h4>
                    <p class="text-sm md:text-base text-gray-700">Aqu√≠ destacaremos los logros de nuestros miembros y equipos en diversas competiciones. ¬°A por todas!</p>
                </div>
            </div>

            <hr class="my-8 border-gray-300">

            <div>
                <h3 class="text-xl md:text-2xl font-semibold mb-4 subsection-title">üí° Proyectos del Club</h3>
                <p class="mb-6 text-sm md:text-base leading-relaxed">Espacio para mostrar proyectos colaborativos desarrollados por los miembros del club, aplicando los conocimientos adquiridos.</p>
                <div class="initiative-subsection p-4 rounded-md border">
                    <h4 class="font-semibold text-lg md:text-xl mb-1">Proyecto Ejemplo: Visualizador de Algoritmos</h4>
                    <p class="text-sm md:text-base text-gray-700 mb-2">Un proyecto para crear una herramienta web que visualice el funcionamiento de algoritmos de ordenaci√≥n y b√∫squeda.</p>
                    <p class="text-xs text-gray-600"><strong>Estado:</strong> En planificaci√≥n</p>
                    <p class="text-xs text-gray-600"><strong>Tecnolog√≠as:</strong> JavaScript, HTML, CSS (Quiz√°s alguna librer√≠a de visualizaci√≥n)</p>
                    <a href="#" class="text-xs hover:underline mt-1 inline-block" style="color: var(--ugr-dark-red);">[Enlace al Repositorio GitHub del Proyecto]</a>
                </div>
                 <p class="mt-6 text-xs md:text-sm text-gray-500"><em>(¬øTienes una idea para un proyecto? ¬°Proponla en nuestro Discord!)</em></p>
            </div>
        </section>

    </main>

    <!-- Modal para LeetCode / Anteriormente Gemini -->
    <div id="geminiModal" class="modal fixed inset-0 z-[100] flex items-center justify-center p-4 hidden opacity-0 visibility-hidden">
        <div class="modal-overlay absolute inset-0 bg-black opacity-50"></div>
        <div class="modal-content bg-white p-6 rounded-lg shadow-xl w-full max-w-lg transform transition-all scale-95 opacity-0">
            <div class="flex justify-between items-center pb-3">
                <p class="text-2xl font-semibold" style="color: var(--ugr-red);" id="geminiModalTitle">Respuesta de IA ‚ú®</p>
                <button id="closeGeminiModal" class="modal-close cursor-pointer z-50">
                    <span class="text-3xl text-gray-700 hover:text-gray-900">&times;</span>
                </button>
            </div>
            <div id="geminiModalBody" class="text-sm md:text-base text-gray-700 overflow-y-auto" style="max-height: 60vh;">
                <!-- Contenedor para el selector de dificultad -->
                <div id="difficultySelectorContainer" class="space-y-3 hidden">
                    <div id="difficultyOptionsContainer" class="space-y-2"></div>
                    <button id="fetchLeetCodeProblemButton" class="btn-leetcode-search mt-4">
                        <i class="fas fa-search mr-2"></i>Buscar Problema de LeetCode
                    </button>
                </div>
                <!-- Contenedor para mostrar el problema de LeetCode o respuesta de IA -->
                <div id="problemDisplayContainer" class="whitespace-pre-wrap"></div>
                <div id="geminiLoadingIndicator" class="flex flex-col items-center justify-center py-8 hidden">
                    <div class="loading-spinner w-12 h-12 rounded-full border-4 border-gray-300"></div>
                    <p class="mt-3 text-gray-600">Cargando...</p>
                </div>
            </div>
        </div>
    </div>

    <button id="scrollTopBtn" title="Volver arriba">&#8679;</button>
    
    <div id="customTooltip"></div>

    <footer class="footer-bar text-center py-6 md:py-8 mt-10 md:mt-12">
        <p class="text-sm md:text-base">&copy; <span id="currentYear"></span> Club de Algor√≠tmica UGR. ¬°Feliz codificaci√≥n!</p>
        <p class="text-xs md:text-sm mt-1">Inspirado en los colores de la <a href="https://www.ugr.es" target="_blank" class="underline hover:text-white">Universidad de Granada</a>.</p>
    </footer>

    <script>
      document.addEventListener('DOMContentLoaded', function() {
        document.getElementById('currentYear').textContent = new Date().getFullYear();
        const mainNavLinks = document.querySelectorAll('#main-navigation a.nav-link');
        const mainSections = document.querySelectorAll('main > section.main-section');
        const scrollTopButton = document.getElementById('scrollTopBtn');

        const customTooltip = document.getElementById('customTooltip');
        const resourceLinksWithTooltip = document.querySelectorAll('#lista-recursos-tabs a.recurso-item-lista');

        if (customTooltip) {
            resourceLinksWithTooltip.forEach(link => {
                link.addEventListener('mouseover', function(event) {
                    const tooltipText = this.dataset.tooltipText;
                    if (tooltipText) {
                        customTooltip.innerHTML = tooltipText;
                        customTooltip.style.display = 'block';
                        customTooltip.style.left = (event.pageX + 15) + 'px';
                        customTooltip.style.top = (event.pageY + 15) + 'px'; 
                        setTimeout(() => { customTooltip.style.opacity = '1'; }, 10);
                    }
                });
                link.addEventListener('mousemove', function(event) {
                    if (customTooltip.style.display === 'block') {
                        customTooltip.style.left = (event.pageX + 15) + 'px';
                        customTooltip.style.top = (event.pageY + 15) + 'px';
                    }
                });
                link.addEventListener('mouseout', function() {
                    customTooltip.style.opacity = '0';
                    setTimeout(() => { customTooltip.style.display = 'none'; }, 200);
                });
            });
        }

        const geminiModal = document.getElementById('geminiModal');
        const geminiModalTitle = document.getElementById('geminiModalTitle');
        const closeGeminiModalButton = document.getElementById('closeGeminiModal');
        const geminiModalBody = document.getElementById('geminiModalBody');
        const geminiLoadingIndicator = document.getElementById('geminiLoadingIndicator');
        
        const difficultySelectorContainer = document.getElementById('difficultySelectorContainer');
        const difficultyOptionsContainer = document.getElementById('difficultyOptionsContainer');
        const problemDisplayContainer = document.getElementById('problemDisplayContainer');
        const fetchLeetCodeProblemButton = document.getElementById('fetchLeetCodeProblemButton');

        let currentLeetCodeTopic = "";
        let currentLeetCodeDifficulty = ""; // Para guardar la dificultad seleccionada para el re-roll

        const leetCodeProblems = {
            "Introducci√≥n a la Algor√≠tmica": {
                "Easy": [{ name: "Two Sum", url: "https://leetcode.com/problems/two-sum/"}, { name: "Palindrome Number", url: "https://leetcode.com/problems/palindrome-number/"}, {name: "Valid Parentheses", url: "https://leetcode.com/problems/valid-parentheses/"}],
                "Medium": [{ name: "Reverse Integer", url: "https://leetcode.com/problems/reverse-integer/" }, {name: "Container With Most Water", url:"https://leetcode.com/problems/container-with-most-water/"}],
                "Hard": [{ name: "Median of Two Sorted Arrays", url: "https://leetcode.com/problems/median-of-two-sorted-arrays/" }]
            },
            "Recursividad": {
                "Easy": [{ name: "Fibonacci Number", url: "https://leetcode.com/problems/fibonacci-number/" }, { name: "Power of Two", url: "https://leetcode.com/problems/power-of-two/" }],
                "Medium": [{ name: "K-th Symbol in Grammar", url: "https://leetcode.com/problems/k-th-symbol-in-grammar/" }, { name: "Pow(x, n)", url: "https://leetcode.com/problems/powx-n/"}],
                "Hard": [{ name: "N-Queens", url: "https://leetcode.com/problems/n-queens/" }]
            },
            "Arrays (Arreglos)": {
                "Easy": [{ name: "Contains Duplicate", url: "https://leetcode.com/problems/contains-duplicate/"}, { name: "Best Time to Buy and Sell Stock", url: "https://leetcode.com/problems/best-time-to-buy-and-sell-stock/"}, {name: "Merge Sorted Array", url:"https://leetcode.com/problems/merge-sorted-array/"}],
                "Medium": [{ name: "Product of Array Except Self", url: "https://leetcode.com/problems/product-of-array-except-self/"}, { name: "3Sum", url: "https://leetcode.com/problems/3sum/"}, {name: "Rotate Array", url:"https://leetcode.com/problems/rotate-array/"}],
                "Hard": [{ name: "Trapping Rain Water", url: "https://leetcode.com/problems/trapping-rain-water/"}]
            },
            "Sets (Conjuntos)": {
                "Easy": [{ name: "Contains Duplicate", url: "https://leetcode.com/problems/contains-duplicate/"}, { name: "Intersection of Two Arrays", url: "https://leetcode.com/problems/intersection-of-two-arrays/"}],
                "Medium": [{ name: "Group Anagrams", url: "https://leetcode.com/problems/group-anagrams/"}, {name: "Insert Delete GetRandom O(1)", url:"https://leetcode.com/problems/insert-delete-getrandom-o1/"}],
                "Hard": [{name: "Find Median from Data Stream", url: "https://leetcode.com/problems/find-median-from-data-stream/"}] // Este es m√°s de Heaps, pero Sets/Maps pueden ser parte de la discusi√≥n
            },
            "Maps (Diccionarios)": {
                "Easy": [{ name: "Two Sum", url: "https://leetcode.com/problems/two-sum/"}, { name: "Roman to Integer", url: "https://leetcode.com/problems/roman-to-integer/"}, {name: "Valid Anagram", url:"https://leetcode.com/problems/valid-anagram/"}],
                "Medium": [{ name: "Group Anagrams", url: "https://leetcode.com/problems/group-anagrams/"}, { name: "LRU Cache", url: "https://leetcode.com/problems/lru-cache/"}],
                "Hard": [{name: "LFU Cache", url: "https://leetcode.com/problems/lfu-cache/"}]
            },
            "Listas Enlazadas (Linked List)": {
                "Easy": [{ name: "Reverse Linked List", url: "https://leetcode.com/problems/reverse-linked-list/" }, { name: "Merge Two Sorted Lists", url: "https://leetcode.com/problems/merge-two-sorted-lists/" }, {name: "Linked List Cycle", url:"https://leetcode.com/problems/linked-list-cycle/"}],
                "Medium": [{ name: "Add Two Numbers", url: "https://leetcode.com/problems/add-two-numbers/" }, { name: "Remove Nth Node From End of List", url: "https://leetcode.com/problems/remove-nth-node-from-end-of-list/" }, {name:"Reorder List", url:"https://leetcode.com/problems/reorder-list/"}],
                "Hard": [{ name: "Reverse Nodes in k-Group", url: "https://leetcode.com/problems/reverse-nodes-in-k-group/" }, {name:"Merge k Sorted Lists", url:"https://leetcode.com/problems/merge-k-sorted-lists/"}]
            },
            "√Årboles (Estructuras de Datos)": {
                "Easy": [{ name: "Invert Binary Tree", url: "https://leetcode.com/problems/invert-binary-tree/" }, { name: "Maximum Depth of Binary Tree", url: "https://leetcode.com/problems/maximum-depth-of-binary-tree/" }, { name: "Same Tree", url:"https://leetcode.com/problems/same-tree/"}],
                "Medium": [{ name: "Binary Tree Level Order Traversal", url: "https://leetcode.com/problems/binary-tree-level-order-traversal/" }, { name: "Validate Binary Search Tree", url: "https://leetcode.com/problems/validate-binary-search-tree/" }, { name: "Kth Smallest Element in a BST", url:"https://leetcode.com/problems/kth-smallest-element-in-a-bst/"}],
                "Hard": [{ name: "Binary Tree Maximum Path Sum", url: "https://leetcode.com/problems/binary-tree-maximum-path-sum/" }, {name:"Serialize and Deserialize Binary Tree", url:"https://leetcode.com/problems/serialize-and-deserialize-binary-tree/"}]
            },
            "Pilas y Colas (Stack and Queue)": {
                "Easy": [{ name: "Valid Parentheses", url: "https://leetcode.com/problems/valid-parentheses/" }, { name: "Implement Queue using Stacks", url: "https://leetcode.com/problems/implement-queue-using-stacks/" }],
                "Medium": [{ name: "Daily Temperatures", url: "https://leetcode.com/problems/daily-temperatures/" }, { name: "Design Circular Queue", url: "https://leetcode.com/problems/design-circular-queue/" }, {name: "Evaluate Reverse Polish Notation", url:"https://leetcode.com/problems/evaluate-reverse-polish-notation/"}],
                "Hard": [{ name: "Sliding Window Maximum", url: "https://leetcode.com/problems/sliding-window-maximum/" }, {name: "Largest Rectangle in Histogram", url:"https://leetcode.com/problems/largest-rectangle-in-histogram/"}]
            }
        };

        function openModal() {
            if (!geminiModal) return;
            geminiModal.classList.remove('hidden');
            setTimeout(() => { 
                geminiModal.classList.remove('opacity-0', 'visibility-hidden');
                geminiModal.querySelector('.modal-content').classList.remove('scale-95', 'opacity-0');
            }, 10);
        }

        function closeModal() {
            if (!geminiModal) return;
            geminiModal.querySelector('.modal-content').classList.add('scale-95', 'opacity-0');
            geminiModal.classList.add('opacity-0');
            setTimeout(() => {
                geminiModal.classList.add('visibility-hidden', 'hidden');
                difficultySelectorContainer.classList.add('hidden');
                problemDisplayContainer.innerHTML = '';
                problemDisplayContainer.classList.remove('hidden');
                geminiLoadingIndicator.classList.add('hidden');
            }, 300); 
        }

        if(closeGeminiModalButton) {
            closeGeminiModalButton.addEventListener('click', closeModal);
        }
        if(geminiModal) {
            geminiModal.addEventListener('click', function(event) {
                if (event.target === geminiModal) { 
                    closeModal();
                }
            });
        }

        function showLeetCodeDifficultySelector(topicTitle) {
            currentLeetCodeTopic = topicTitle;
            geminiModalTitle.textContent = `Selecciona Dificultad para: ${topicTitle}`;
            
            difficultyOptionsContainer.innerHTML = `
                <label class="block cursor-pointer p-2 hover:bg-gray-100 rounded-md"><input type="radio" name="leetcodeDifficulty" value="Easy" class="mr-2 accent-ugr-red" checked> F√°cil</label>
                <label class="block cursor-pointer p-2 hover:bg-gray-100 rounded-md"><input type="radio" name="leetcodeDifficulty" value="Medium" class="mr-2 accent-ugr-red"> Medio</label>
                <label class="block cursor-pointer p-2 hover:bg-gray-100 rounded-md"><input type="radio" name="leetcodeDifficulty" value="Hard" class="mr-2 accent-ugr-red"> Dif√≠cil</label>
            `;
            problemDisplayContainer.classList.add('hidden');
            difficultySelectorContainer.classList.remove('hidden');
            geminiLoadingIndicator.classList.add('hidden');
            openModal();
        }
        
        // Se usa currentLeetCodeDifficulty para el re-roll
        function displayLeetCodeProblem(rerollDifficulty = null) {
            const selectedDifficultyRadio = document.querySelector('input[name="leetcodeDifficulty"]:checked');
            // Si es un re-roll, usar la dificultad guardada, si no, la del radio button.
            currentLeetCodeDifficulty = rerollDifficulty || (selectedDifficultyRadio ? selectedDifficultyRadio.value : null);


            if (!currentLeetCodeDifficulty) {
                problemDisplayContainer.innerHTML = "<p>Por favor, selecciona una dificultad.</p>";
                problemDisplayContainer.classList.remove('hidden');
                difficultySelectorContainer.classList.remove('hidden'); 
                geminiLoadingIndicator.classList.add('hidden');
                return;
            }

            geminiModalTitle.textContent = `Problema de LeetCode: ${currentLeetCodeTopic} (${currentLeetCodeDifficulty})`;
            geminiLoadingIndicator.classList.remove('hidden'); 
            difficultySelectorContainer.classList.add('hidden'); 
            problemDisplayContainer.innerHTML = ''; 

            setTimeout(() => { 
                const problemsForTopic = leetCodeProblems[currentLeetCodeTopic];
                let problemToShow = null;
                let problemList = [];

                if (problemsForTopic && problemsForTopic[currentLeetCodeDifficulty] && problemsForTopic[currentLeetCodeDifficulty].length > 0) {
                    problemList = problemsForTopic[currentLeetCodeDifficulty];
                    problemToShow = problemList[Math.floor(Math.random() * problemList.length)];
                }

                if (problemToShow) {
                    problemDisplayContainer.innerHTML = `
                        <h4 class="font-semibold text-lg mb-2">${problemToShow.name}</h4>
                        <p class="mb-1">Dificultad: ${currentLeetCodeDifficulty}</p>
                        <a href="${problemToShow.url}" target="_blank" class="btn-primary inline-flex items-center font-semibold py-2 px-3 rounded-md text-sm my-2">
                            <i class="fas fa-external-link-alt mr-2"></i>Ir al Problema en LeetCode
                        </a>
                        <button id="rerollLeetCodeButton" class="btn-leetcode-reroll w-full flex items-center justify-center text-sm">
                            <i class="fas fa-sync-alt mr-2"></i>Volver a buscar otro problema
                        </button>
                        <p class="mt-3 text-xs text-gray-500">Nota: Esta es una selecci√≥n aleatoria de una lista predefinida de ejemplos.</p>
                    `;
                    // A√±adir event listener al nuevo bot√≥n de re-roll
                    const rerollButton = document.getElementById('rerollLeetCodeButton');
                    if(rerollButton){
                        rerollButton.addEventListener('click', () => displayLeetCodeProblem(currentLeetCodeDifficulty));
                    }
                } else {
                    problemDisplayContainer.innerHTML = `<p>No se encontraron problemas de LeetCode para "${currentLeetCodeTopic}" con dificultad "${currentLeetCodeDifficulty}" en nuestra lista de ejemplos. Prueba otra dificultad o tema.</p>`;
                }
                geminiLoadingIndicator.classList.add('hidden');
                problemDisplayContainer.classList.remove('hidden');
            }, 300); // Reducida la demora para una sensaci√≥n m√°s r√°pida
        }


        if(fetchLeetCodeProblemButton) {
            fetchLeetCodeProblemButton.addEventListener('click', () => displayLeetCodeProblem()); // Llamada inicial sin re-roll
        }

        document.querySelectorAll('.leetcode-problem-button').forEach(button => {
            button.addEventListener('click', () => {
                const topicTitle = button.dataset.topicTitle;
                showLeetCodeDifficultySelector(topicTitle);
            });
        });
        
        document.querySelectorAll('.btn-gemini[data-gemini-action="get_hint"]').forEach(button => {
             button.addEventListener('click', async () => {
                const problemTopic = button.dataset.problemTopic;
                const problemDesc = button.dataset.problemDesc || "un problema sobre " + problemTopic; 
                const prompt = `Soy un estudiante resolviendo un problema de algor√≠tmica sobre '${problemTopic}'. La descripci√≥n general del problema es: '${problemDesc}'. Dame una pista √∫til y concisa para empezar a resolverlo, pero no me des la soluci√≥n directa. Una o dos frases es suficiente.`;
                
                geminiModalTitle.textContent = `Pista para el problema`;
                difficultySelectorContainer.classList.add('hidden');
                problemDisplayContainer.innerHTML = ''; 
                problemDisplayContainer.classList.remove('hidden');
                geminiLoadingIndicator.classList.remove('hidden');
                openModal();

                const responseText = await callGeminiApi(prompt); 
                problemDisplayContainer.textContent = responseText;
                geminiLoadingIndicator.classList.add('hidden');
            });
        });
        
        async function callGeminiApi(prompt) {
            const apiKey = ""; 
            const apiUrl = `https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent?key=${apiKey}`;
            const payload = { contents: [{ role: "user", parts: [{ text: prompt }] }] };
            try {
                const response = await fetch(apiUrl, {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify(payload)
                });
                if (!response.ok) {
                    const errorResult = await response.json();
                    console.error('Error en la API de Gemini:', response.status, errorResult);
                    return `Error ${response.status}: ${errorResult.error?.message || 'No se pudo obtener respuesta de la IA.'}`;
                }
                const result = await response.json();
                if (result.candidates && result.candidates.length > 0 &&
                    result.candidates[0].content && result.candidates[0].content.parts &&
                    result.candidates[0].content.parts.length > 0) {
                    return result.candidates[0].content.parts[0].text;
                } else {
                    console.error('Respuesta inesperada de la API de Gemini:', result);
                    return 'La IA no pudo generar una respuesta esta vez.';
                }
            } catch (error) {
                console.error('Error al llamar a la API de Gemini:', error);
                return 'Error de conexi√≥n al intentar contactar con la IA.';
            }
        }

        mainNavLinks.forEach(link => {
            link.addEventListener('click', function (e) {
                e.preventDefault();
                const targetId = this.getAttribute('href').substring(1);
                mainSections.forEach(section => section.classList.add('hidden'));
                const targetSection = document.getElementById(targetId);
                if (targetSection) targetSection.classList.remove('hidden');
                mainNavLinks.forEach(navLink => navLink.classList.remove('active-section-link'));
                this.classList.add('active-section-link');
                window.scrollTo({ top: 0, behavior: 'smooth' }); 
            });
        });
        
        const resourceTabLinks = document.querySelectorAll('#lista-recursos-tabs a.recurso-item-lista');
        const resourceTabContents = document.querySelectorAll('#contenido-recursos .recurso-contenido');

        if (resourceTabLinks.length > 0 && resourceTabContents.length > 0) {
            resourceTabLinks.forEach(link => {
                link.addEventListener('click', function(e) {
                    e.preventDefault();
                    resourceTabLinks.forEach(l => l.classList.remove('active'));
                    resourceTabContents.forEach(c => { 
                        c.classList.add('hidden'); 
                        c.classList.remove('active'); 
                    });
                    this.classList.add('active'); 
                    const targetId = this.getAttribute('data-target');
                    const targetContent = document.getElementById(targetId);
                    if (targetContent) { 
                        targetContent.classList.remove('hidden'); 
                        targetContent.classList.add('active'); 
                    }
                });
            });
        } else {
            console.warn("Elementos para las pesta√±as de recursos (#lista-recursos-tabs o #contenido-recursos) no encontrados. La funcionalidad de pesta√±as de recursos podr√≠a no estar activa.");
        }

        window.onscroll = function() {
         if (document.body.scrollTop > 100 || document.documentElement.scrollTop > 100) {
            if(scrollTopButton) scrollTopButton.classList.add('show');
         } else {
            if(scrollTopButton) scrollTopButton.classList.remove('show');
         }
        };
        if(scrollTopButton) {
            scrollTopButton.addEventListener('click', function() {
                window.scrollTo({top: 0, behavior: 'smooth'});
            });
        }
      }); 
    </script>
</body>
</html>
